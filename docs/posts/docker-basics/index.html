<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Docker basics - Learn-k8s</title><meta name=keywords content><meta name=description content="01. Intro & Docker basics Why you should learn Docker and Kubernetes? Docker and Kubernetes is most trending and loved platform in DevOps world, I collected some metrics from StackOverflow, you can see as below:
This is not only the reason you should learn Kubernetes, I think this will give you same fun and interest that you have with learning Linux.
So join me learning Kubernetes.
 Before moving forward lets check history, how it started and what was the main focused."><meta name=author content="Me"><link rel=canonical href=https://learn-k8s.github.io/posts/docker-basics/><link href=https://learn-k8s.github.io/assets/css/stylesheet.min.03c2dac034a15ae4bd562196862d9ddb810fa81e8d9794b065e224027b850796.css integrity="sha256-A8LawDShWuS9ViGWhi2d24EPqB6Nl5SwZeIkAnuFB5Y=" rel="preload stylesheet" as=style><link rel=manifest href=https://learn-k8s.github.io/site.webmanifest><link rel=icon href=https://learn-k8s.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://learn-k8s.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://learn-k8s.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://learn-k8s.github.io/apple-touch-icon.png><link rel=mask-icon href=https://learn-k8s.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.78.1"></head><body class=single id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://learn-k8s.github.io/ accesskey=h>Learn-k8s</a>
<span class=logo-switches></span></div><ul class=menu id=menu onscroll=menu_on_scroll()></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Docker basics</h1><div class=post-meta>November 10, 2020&nbsp;·&nbsp;15 min&nbsp;·&nbsp;Me</div></header><div class=toc><details open><summary><div class=details accesskey=c>Table of Contents</div></summary><blockquote><ul><li><a href=#01-intro--docker-basics aria-label="01. Intro &amp;amp; Docker basics">01. Intro & Docker basics</a><ul><ul><li><a href=#why-you-should-learn-docker-and-kubernetes aria-label="Why you should learn Docker and Kubernetes?">Why you should learn Docker and Kubernetes?</a></li></ul><li><a href=#going-back-in-time aria-label="Going back in time"><strong>Going back in time</strong></a><ul><li><a href=#traditional-deployment-era aria-label="Traditional deployment era:"><strong>Traditional deployment era:</strong></a></li><li><a href=#virtualized-deployment-era aria-label="Virtualized deployment era:"><strong>Virtualized deployment era:</strong></a></li><li><a href=#container-deployment-era aria-label="Container deployment era:"><strong>Container deployment era:</strong></a></li></ul></li><li><a href=#container-history aria-label="Container History">Container History</a></li><li><a href=#what-is-cloud-native aria-label="What is Cloud native?">What is Cloud native?</a><ul><li><a href=#1-automatable aria-label="1. Automatable">1. Automatable</a></li><li><a href=#2-ubiquitous-and-ubiquitous aria-label="2. Ubiquitous and Ubiquitous">2. Ubiquitous and Ubiquitous</a></li><li><a href=#3-resilient-and-scalable aria-label="3. Resilient and scalable">3. Resilient and scalable</a></li><li><a href=#4-dynamic aria-label="4. Dynamic">4. Dynamic</a></li><li><a href=#5-observable aria-label="5. Observable">5. Observable</a></li><li><a href=#6-distributed aria-label="6. Distributed">6. Distributed</a></li></ul></li></ul></li><li><a href=#virtual-machine-vs-container aria-label="Virtual Machine vs Container">Virtual Machine vs Container</a></li><li><a href=#getting-started-with-docker aria-label="Getting started with Docker">Getting started with Docker</a><ul><ul><li><a href=#what-is-docker aria-label="What is Docker?">What is Docker?</a></li><li><a href=#why-docker aria-label="Why Docker?">Why Docker?</a></li></ul><li><a href=#docker-architecture aria-label="Docker Architecture">Docker Architecture</a><ul><li><a href=#the-docker-daemon aria-label="The Docker daemon"><strong>The Docker daemon</strong></a></li><li><a href=#the-docker-client aria-label="The Docker client"><strong>The Docker client</strong></a></li><li><a href=#docker-registries aria-label="Docker registries"><strong>Docker registries</strong></a></li><li><a href=#docker-objects aria-label="Docker objects"><strong>Docker objects</strong></a></li><li><a href=#image aria-label=Image>Image</a></li><li><a href=#containers aria-label=CONTAINERS>CONTAINERS</a></li></ul></li></ul></li><li><a href=#docker-practical aria-label="Docker Practical">Docker Practical</a><ul><ul><li><a href=#requirements aria-label=Requirements:>Requirements:</a></li><li><a href=#run-docker-with-interactive-mode aria-label="Run docker with interactive mode">Run docker with interactive mode</a></li><li><a href=#container-you-launch-it-will-be-still-there-that-you-can-check-using aria-label="Container you launch, it will be still there that you can check using">Container you launch, it will be still there that you can check using</a></li><li><a href=#start-docker-in-deattach-mode aria-label="Start docker in deattach mode">Start docker in deattach mode</a></li><li><a href=#container-will-be-running-until-you-stopkill-it-using aria-label="Container will be running until you stop/kill it using">Container will be running until you stop/kill it using</a></li><li><a href=#list-docker-images aria-label="List docker images">List docker images</a></li></ul><li><a href=#building-custom-image aria-label="Building custom image">Building custom image</a><ul><li><a href=#dockerfile-commands aria-label="Dockerfile Commands"><strong>Dockerfile Commands</strong></a></li></ul></li><li><a href=#how-to-optimize-docker-image-size aria-label="How to optimize docker image size">How to optimize docker image size</a></li><li><a href=#method-1-standard-process aria-label="Method 1# Standard process">Method 1# Standard process</a></li><li><a href=#method-2-using-alpine-as-base-image aria-label="Method 2# Using alpine as base image">Method 2# Using alpine as base image</a></li><li><a href=#method-3-using-distroless-as-base-image aria-label="Method 3# Using distroless as base image">Method 3# Using distroless as base image</a><ul><li><a href=#reference aria-label=Reference:>Reference:</a></li></ul></li></ul></li></ul></blockquote></details></div><div class=post-content><h1 id=01-intro--docker-basics>01. Intro & Docker basics<a hidden class=anchor aria-hidden=true href=#01-intro--docker-basics>#</a></h1><h3 id=why-you-should-learn-docker-and-kubernetes>Why you should learn Docker and Kubernetes?<a hidden class=anchor aria-hidden=true href=#why-you-should-learn-docker-and-kubernetes>#</a></h3><p>Docker and Kubernetes is most trending and loved platform in DevOps world, I collected some metrics from StackOverflow, you can see as below:</p><p><img src=/img/stackoverflow_stats.png alt=StackOverflowstats></p><p>This is not only the reason you should learn Kubernetes, I think this will give you same fun and interest that you have with learning Linux.</p><p>So join me learning Kubernetes.</p><hr><p>Before moving forward lets check history, how it started and what was the main focused.</p><h2 id=going-back-in-time><strong>Going back in time</strong><a hidden class=anchor aria-hidden=true href=#going-back-in-time>#</a></h2><p>Let&rsquo;s take a look at why Kubernetes is so useful by going back in time.</p><p><img src=/img/container_evolution.png alt="Container evolution"></p><h3 id=traditional-deployment-era><strong>Traditional deployment era:</strong><a hidden class=anchor aria-hidden=true href=#traditional-deployment-era>#</a></h3><p>Early on, organizations ran applications on physical servers. There was no way to define resource boundaries for applications in a physical server, and this caused resource allocation issues. For example, if multiple applications run on a physical server, there can be instances where one application would take up most of the resources, and as a result, the other applications would underperform. A solution for this would be to run each application on a different physical server. But this did not scale as resources were underutilized, and it was expensive for organizations to maintain many physical servers.</p><h3 id=virtualized-deployment-era><strong>Virtualized deployment era:</strong><a hidden class=anchor aria-hidden=true href=#virtualized-deployment-era>#</a></h3><p>As a solution, virtualization was introduced. It allows you to run multiple Virtual Machines (VMs) on a single physical server&rsquo;s CPU. Virtualization allows applications to be isolated between VMs and provides a level of security as the information of one application cannot be freely accessed by another application.</p><p>Virtualization allows better utilization of resources in a physical server and allows better scalability because an application can be added or updated easily, reduces hardware costs, and much more. With virtualization you can present a set of physical resources as a cluster of disposable virtual machines.</p><p>Each VM is a full machine running all the components, including its own operating system, on top of the virtualized hardware.</p><h3 id=container-deployment-era><strong>Container deployment era:</strong><a hidden class=anchor aria-hidden=true href=#container-deployment-era>#</a></h3><p>Containers are similar to VMs, but they have relaxed isolation properties to share the Operating System (OS) among the applications. Therefore, containers are considered lightweight. Similar to a VM, a container has its own filesystem, share of CPU, memory, process space, and more. As they are decoupled from the underlying infrastructure, they are portable across clouds and OS distributions.</p><p>Containers have become popular because they provide extra benefits, such as:</p><ul><li>Agile application creation and deployment: increased ease and efficiency of container image creation compared to VM image use.</li><li>Continuous development, integration, and deployment: provides for reliable and frequent container image build and deployment with quick and easy rollbacks (due to image immutability).</li><li>Dev and Ops separation of concerns: create application container images at build/release time rather than deployment time, thereby decoupling applications from infrastructure.</li><li>Observability not only surfaces OS-level information and metrics, but also application health and other signals.</li><li>Environmental consistency across development, testing, and production: Runs the same on a laptop as it does in the cloud.</li><li>Cloud and OS distribution portability: Runs on Ubuntu, RHEL, CoreOS, on-premises, on major public clouds, and anywhere else.</li><li>Application-centric management: Raises the level of abstraction from running an OS on virtual hardware to running an application on an OS using logical resources.</li><li>Loosely coupled, distributed, elastic, liberated micro-services: applications are broken into smaller, independent pieces and can be deployed and managed dynamically – not a monolithic stack running on one big single-purpose machine.</li><li>Resource isolation: predictable application performance.</li><li>Resource utilization: high efficiency and density.</li></ul><hr><h2 id=container-history>Container History<a hidden class=anchor aria-hidden=true href=#container-history>#</a></h2><p><img src=/img/containers_history.png alt=History></p><ul><li>1980<ul><li>Chroot</li></ul></li><li>1990<ul><li>Jail - FreeBSD</li><li>sysadmin use to setup chroot-nginx, chroot bind</li></ul></li><li>2007<ul><li>cgroups<ul><li>it&rsquo;s a Linux kernel feature that limits, accounts for, and isolates the resource usage (CPU, memory, disk I/O, network, etc.)</li></ul></li><li>namespace<ul><li>A Linux namespace is a Linux kernel feature that isolates and virtualizes system resources.</li></ul></li></ul></li><li>2008<ul><li>LXC (Linux containers)</li><li>based cgroup and namespace</li><li>LXD - just for better user experience</li></ul></li><li>2013<ul><li>Docker</li><li>On top of LXC - until Docker v0.8</li><li>Docker build own in v0.9 libcontainer</li></ul></li><li>2014<ul><li>AWS ECS, Openshift</li></ul></li><li>2014<ul><li>Kubernetes - (Borg 5 years)</li><li>Maintained by CNF (Cloud native foundation)</li></ul></li><li>2016<ul><li>containerd - runc - container</li><li>OCI (Open container Initiative) - defines rules and format and standard</li></ul></li></ul><hr><p>So you just heard Cloud native term and its important to understand that.</p><h2 id=what-is-cloud-native>What is Cloud native?<a hidden class=anchor aria-hidden=true href=#what-is-cloud-native>#</a></h2><p>cloud native application is one that is built to deal with modern day demands, modern business demands, ability to scale, the ability to self‑heal, and react to market conditions, but also, it tends to be written in a very modular way.</p><p>just taking an existing application and running it on a cloud compute instance doesn’t make it cloud native. Neither is it just about running in a container, or using cloud services such as Azure’s Cosmos DB or Google’s Pub/Sub, although those may well be important aspects of a cloud native application.</p><p>What are the cloud native attributes?</p><h3 id=1-automatable>1. Automatable<a hidden class=anchor aria-hidden=true href=#1-automatable>#</a></h3><ul><li>able to be done by machines without human action. that means app developer don&rsquo;t even need to worry about them. it should have common standard, format and interface and kubernetes provides that</li></ul><h3 id=2-ubiquitous-and-ubiquitous>2. Ubiquitous and Ubiquitous<a hidden class=anchor aria-hidden=true href=#2-ubiquitous-and-ubiquitous>#</a></h3><p>Because they are decoupled from physical resources such as disks, or any specific knowledge about the compute node they happen to be running on, containerized microservices can easily be moved from one node to another, or even one cluster to another</p><h3 id=3-resilient-and-scalable>3. Resilient and scalable<a hidden class=anchor aria-hidden=true href=#3-resilient-and-scalable>#</a></h3><p>Traditional applications tend to have single points of failure: the application stops working if its main process crashes, or if the underlying machine has a hardware failure, or if a network resource becomes congested. Cloud native applications, because they are inherently distributed, can be made highly available through redundancy and graceful degradation.</p><h3 id=4-dynamic>4. Dynamic<a hidden class=anchor aria-hidden=true href=#4-dynamic>#</a></h3><p>A container orchestrator such as Kubernetes can schedule containers to take maximum advantage of available resources. It can run many copies of them to achieve high availability, and perform rolling updates to smoothly upgrade serv‐ ices without ever dropping traffic</p><h3 id=5-observable>5. Observable<a hidden class=anchor aria-hidden=true href=#5-observable>#</a></h3><p>Cloud native apps, by their nature, are harder to inspect and debug. So a key requirement of distributed systems is observability: monitoring, logging, tracing, and metrics all help engineers understand what their systems are doing (and what they’re doing wrong).</p><h3 id=6-distributed>6. Distributed<a hidden class=anchor aria-hidden=true href=#6-distributed>#</a></h3><p>Cloud native is an approach to building and running applications that takes advantage of the distributed and decentralized nature of the cloud. It’s about how your application works, not where it runs. Instead of deploying your code as a single entity (known as a monolith), cloud native applications tend to be com‐ posed of multiple, cooperating, distributed microservices. A microservice is sim‐ ply a self-contained service that does one thing. If you put enough microservices together, you get an application.</p><hr><h1 id=virtual-machine-vs-container>Virtual Machine vs Container<a hidden class=anchor aria-hidden=true href=#virtual-machine-vs-container>#</a></h1><p><img src=/img/vm_vs_container.png alt=vm_vs_container></p><table><thead><tr><th>VM</th><th>Container</th></tr></thead><tbody><tr><td>Heavyweight</td><td>Lightweight</td></tr><tr><td>Hardware level virtualization</td><td>OS level virtualization</td></tr><tr><td>Each runs in its own OS</td><td>All shares host kernel</td></tr><tr><td>Require more memory and space</td><td>Require less memory and space</td></tr><tr><td>Startup time in minutes</td><td>Startup time in milliseconds</td></tr><tr><td>Limited performance</td><td>Native performance</td></tr><tr><td>Process-level isolation, possibly less secure</td><td>Fully isolated and hence more secure</td></tr></tbody></table><hr><h1 id=getting-started-with-docker>Getting started with Docker<a hidden class=anchor aria-hidden=true href=#getting-started-with-docker>#</a></h1><p>We are going to mostly focused on Kubernetes but before moving forward, we will learn basics docker.</p><h3 id=what-is-docker>What is Docker?<a hidden class=anchor aria-hidden=true href=#what-is-docker>#</a></h3><blockquote><p>Docker is a tool designed to make it easier to create, deploy, and run applications by using containers. Containers allow a developer to package up an application with all of the parts it needs, such as libraries and other dependencies, and ship it all out as one package. — <a href=http://opensource.com/>OpenSource.com</a></p></blockquote><h3 id=why-docker>Why Docker?<a hidden class=anchor aria-hidden=true href=#why-docker>#</a></h3><blockquote><p>“It works on my machine, I don’t know why it won’t work on yours.” — any developer, ever</p></blockquote><p><img src=/img/ship-docker.png alt="ship docker"></p><ol><li><strong>Isolation</strong></li></ol><p>It helps us create an environment agnostic system. Your application runs smoothly on different platforms. This is essentially achieved using containers.</p><p><strong><em>2.</em> Portability</strong></p><p>Since all of your dependencies are in the same container, it’s easy to carry from one place to another giving Docker its portability.</p><p><strong><em>3.</em> Lightweight</strong></p><p>Runs as another application on your system instead of consuming whole lot resources of your system.</p><p><strong><em>4.</em> Robustness</strong></p><p>Less demanding in terms of hardware and needs very little memory as compared to VMs, hence providing efficient isolation levels which help save not only the cost but also time.</p><h2 id=docker-architecture>Docker Architecture<a hidden class=anchor aria-hidden=true href=#docker-architecture>#</a></h2><p><img src=/img/docker-arch.png alt="Docker Arch"></p><p>We are going to focus on Docker Engine, which is open source containerization technology for building and containerizing applications.</p><h3 id=the-docker-daemon><strong>The Docker daemon</strong><a hidden class=anchor aria-hidden=true href=#the-docker-daemon>#</a></h3><p>The Docker daemon (<code>dockerd</code>) listens for Docker API requests and manages Docker objects such as images, containers, networks, and volumes. A daemon can also communicate with other daemons to manage Docker services.</p><h3 id=the-docker-client><strong>The Docker client</strong><a hidden class=anchor aria-hidden=true href=#the-docker-client>#</a></h3><p>The Docker client (<code>docker</code>) is the primary way that many Docker users interact with Docker. When you use commands such as <code>docker run</code>, the client sends these commands to <code>dockerd</code>, which carries them out. The <code>docker</code> command uses the Docker API. The Docker client can communicate with more than one daemon.</p><h3 id=docker-registries><strong>Docker registries</strong><a hidden class=anchor aria-hidden=true href=#docker-registries>#</a></h3><p>A Docker <em>registry</em> stores Docker images. Docker Hub is a public registry that anyone can use, and Docker is configured to look for images on Docker Hub by default. You can even run your own private registry.</p><p>When you use the <code>docker pull</code> or <code>docker run</code> commands, the required images are pulled from your configured registry. When you use the <code>docker push</code> command, your image is pushed to your configured registry.</p><h3 id=docker-objects><strong>Docker objects</strong><a hidden class=anchor aria-hidden=true href=#docker-objects>#</a></h3><p>When you use Docker, you are creating and using images, containers, networks, volumes, plugins, and other objects. This section is a brief overview of some of those objects.</p><h3 id=image>Image<a hidden class=anchor aria-hidden=true href=#image>#</a></h3><p>A Docker image is a read-only template that contains a set of instructions for creating a container that can run on the Docker platform. It provides a convenient way to package up applications and preconfigured server environments, which you can use for your own private use or share publicly with other Docker users.</p><h3 id=containers>CONTAINERS<a hidden class=anchor aria-hidden=true href=#containers>#</a></h3><p>A container is a runnable instance of an image. You can create, start, stop, move, or delete a container using the Docker API or CLI</p><h1 id=docker-practical>Docker Practical<a hidden class=anchor aria-hidden=true href=#docker-practical>#</a></h1><h3 id=requirements>Requirements:<a hidden class=anchor aria-hidden=true href=#requirements>#</a></h3><ul><li>Option 1# Install Docker On you machine if you have access. You can install it on Windows, Linux or Mac using same process you use for any other application.</li><li>Option 2# If you don&rsquo;t have access then you can use public docker, check following link: <a href=https://labs.play-with-docker.com/>https://labs.play-with-docker.com/</a></li></ul><p>Test that your installation works by running the hello-world Docker image</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run hello-world
</code></pre></div><p>Command breakdown:</p><ul><li>It will check if image <code>hello-world:latest</code> exists locally or not</li><li>and if not then it will download from docker hub registry</li><li>then it will run CMD which will print message on terminal</li></ul><h3 id=run-docker-with-interactive-mode>Run docker with interactive mode<a hidden class=anchor aria-hidden=true href=#run-docker-with-interactive-mode>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run -it alpine sh
</code></pre></div><ul><li>You will shell from container and on exit you will be out from container and container will stop</li></ul><h3 id=container-you-launch-it-will-be-still-there-that-you-can-check-using>Container you launch, it will be still there that you can check using<a hidden class=anchor aria-hidden=true href=#container-you-launch-it-will-be-still-there-that-you-can-check-using>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker ps -a
</code></pre></div><h3 id=start-docker-in-deattach-mode>Start docker in deattach mode<a hidden class=anchor aria-hidden=true href=#start-docker-in-deattach-mode>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run -dt alpine sh
</code></pre></div><h3 id=container-will-be-running-until-you-stopkill-it-using>Container will be running until you stop/kill it using<a hidden class=anchor aria-hidden=true href=#container-will-be-running-until-you-stopkill-it-using>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker stop container-id
</code></pre></div><h3 id=list-docker-images>List docker images<a hidden class=anchor aria-hidden=true href=#list-docker-images>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker images
</code></pre></div><hr><h2 id=building-custom-image>Building custom image<a hidden class=anchor aria-hidden=true href=#building-custom-image>#</a></h2><p><img src=/img/build-image.png alt="Build docker image"></p><p>As you can in above diagram, you have <code>Dockerfile</code>, its set of instruction to create docker image, think like Makefile, then once you build image, you can create containers from it.</p><h3 id=dockerfile-commands><strong>Dockerfile Commands</strong><a hidden class=anchor aria-hidden=true href=#dockerfile-commands>#</a></h3><p>Below, are the commands that will be used 90% of the time when you’re writing <code>Dockerfiles</code>, and what they mean.</p><ul><li><code>FROM</code> — this initializes a new build stage and sets the <em><a href=https://docs.docker.com/engine/reference/glossary/#base-image>Base Image</a></em> for subsequent instructions. As such, a valid <code>Dockerfile</code> must start with a <code>FROM</code> instruction.</li><li><code>COPY</code> — To copy over files or directories from a specific location.</li><li><code>ADD</code> — As COPY, but also able to handle remote URLs and unpack compressed files.</li><li><code>RUN</code> — will execute any commands in a new layer on top of the current image and commit the results. The resulting committed image will be used for the next step in the <code>Dockerfile</code>.</li><li><code>ENV</code> — sets the environment variable <code>&lt;key></code> to the value <code>&lt;value></code>. This value will be in the environment for all subsequent instructions in the build stage and can be <a href=https://docs.docker.com/engine/reference/builder/#environment-replacement>replaced inline</a> in many as well.</li><li><code>EXPOSE</code> — informs Docker that the container listens on the specified network ports at runtime. You can specify whether the port listens on TCP or UDP, and the default is TCP if the protocol is not specified. This makes it possible for the host and the outside world to access the isolated Docker Container</li><li><code>VOLUME</code> — creates a mount point with the specified name and marks it as holding externally mounted volumes from the native host or other containers.</li><li><code>ENTRYPOINT</code> — Command that will always be executed when the container starts. If not specified, the default is /bin/sh -c</li><li><code>CMD</code> — Arguments passed to the entrypoint. If <code>ENTRYPOINT</code> is not set (defaults to /bin/sh -c), the CMD will be the commands the container executes.</li><li><code>WORKDIR</code> — To set the working directory for any commands that follow in the Dockerfile.</li></ul><hr><p>So our use case is to build web server based on nginx and expose port 8080 and it should be accessible from browser</p><p>First thing you should do is to use DRY principle, mean DO NOT REPEAT YOURSELF, so go on docker hub or github to find official nginx image, so you don&rsquo;t have to compile nginx your self however there are cases there you will need to compile it if there is other requirement. but in following example to learn docker build, we will not use official image, instead we will use small alpine image to setup nginx</p><p>Create <code>Dockerfile</code> with following content</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>FROM</span><span style=color:#e6db74>  alpine:3.8</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># packages &amp; configure</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> adduser -D -g <span style=color:#e6db74>&#39;nginx&#39;</span> nginx  <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    <span style=color:#f92672>&amp;&amp;</span> apk add --no-cache nginx <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    <span style=color:#f92672>&amp;&amp;</span> mkdir -p /www <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>        /etc/nginx/conf.d <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>        /etc/nginx/hosts.d <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>        /etc/nginx/keys <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>        /var/lib/nginx <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>        /run/nginx/ <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    <span style=color:#f92672>&amp;&amp;</span> chown -R nginx:nginx /var/lib/nginx /www<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># external</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 8080</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;nginx&#34;</span>, <span style=color:#e6db74>&#34;-g&#34;</span>, <span style=color:#e6db74>&#34;daemon off;&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Run following command to build web image</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker build -t web .
</code></pre></div><p>You can run <code>docker images</code> to list image</p><p>Let&rsquo;s add require files in current directory i.e. <code>index.html</code> and <code>default.conf</code></p><p>Simple index page <code>index.html</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>html</span>&gt;
	&lt;<span style=color:#f92672>body</span>&gt;
	&lt;<span style=color:#f92672>h1</span>&gt;Welcome to nginx&lt;/<span style=color:#f92672>h1</span>&gt;
	&lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><p>nginx default conf <code>default.conf</code></p><pre><code>server {
    listen       8080;
    server_name  localhost;

    location / {
        root   /www;
        index  index.html index.htm;
    }

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }
}
</code></pre><p>Lets run our web server on port 8080</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -v $PWD/index.html:/www/index.html  <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -v $PWD/default.conf:/etc/nginx/conf.d/default.conf <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -p 8080:8080 -it web
</code></pre></div><p>Now try to access <a href=http://localhost:8080>http://localhost:8080</a></p><hr><h2 id=how-to-optimize-docker-image-size>How to optimize docker image size<a hidden class=anchor aria-hidden=true href=#how-to-optimize-docker-image-size>#</a></h2><p><strong>Use case:</strong></p><ul><li>Simple web server in golang</li><li>Build golang code</li><li>Run web server and expose port 8080</li></ul><p>Create dir <code>demo_app</code> and <code>cd demo_app</code></p><p>Code: <code>web_app.go</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
    <span style=color:#e6db74>&#34;fmt&#34;</span>
    <span style=color:#e6db74>&#34;net/http&#34;</span>
    <span style=color:#e6db74>&#34;log&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
    <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>HandleFunc</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ResponseWriter</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Request</span>) {
        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Fprintf</span>(<span style=color:#a6e22e>w</span>, <span style=color:#e6db74>&#34;Hello World!&#34;</span>)
        <span style=color:#a6e22e>query</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>URL</span>.<span style=color:#a6e22e>Query</span>()
        <span style=color:#a6e22e>name</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#e6db74>&#34;name&#34;</span>)
        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;&#34;</span> {
            <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Received request for %s\n&#34;</span>, <span style=color:#a6e22e>name</span>)
        }
    })
    <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Starting Server&#34;</span>)
    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span>  <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ListenAndServe</span>(<span style=color:#e6db74>&#34;:8080&#34;</span>, <span style=color:#66d9ef>nil</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
        <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
    }
    <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Server stopped&#34;</span>)
}
</code></pre></div><p>Make sure you create <code>web_app.go</code> in with above content</p><h2 id=method-1-standard-process>Method 1# Standard process<a hidden class=anchor aria-hidden=true href=#method-1-standard-process>#</a></h2><p>We will use standard approach to build golang code to build docker image</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> golang:1.10</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Set the Current Working Directory inside the container</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /go/src/app</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Copy everything from the current directory to the PWD(Present Working Directory) inside the container</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> . .<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Download all the dependencies</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go get -d -v ./...<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Install the package</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go install -v ./...<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># This container exposes port 8080 to the outside world</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 8080</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Run the executable</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;/app&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Now in your current directory you have two files:</p><ul><li><code>web_app.go</code></li><li><code>Dockerfile</code></li></ul><p>Let&rsquo;s build our demo app</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker build -t demo:v1.0.0 .<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Run app in deattach mode</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker run -p 8080:8080  -dt demo:v1.0.0<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>You can check logs:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker logs -f &lt;container-id&gt;<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Now access from browser <a href=http://localhost:8080/>http://localhost:8080/</a></p><p>You should be able to see &ldquo;Hello World!&rdquo; response from above link</p><p>Let&rsquo;s check docker image size that you just created</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker images | grep demo | grep v1.0.0<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Output:</p><pre><code>demo   v1.0.0   0cedc4305a0c  3 minutes ago       767MB
</code></pre><p>Its &ldquo;767MB&rdquo;, that&rsquo;s not fair</p><p>How we can reduce this?</p><p>First thing in mind, we need to use small base image and the smallest base image is <code>alpine</code></p><p>clean-up: Stop all running containers and remove stopped containers</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker stop <span style=color:#66d9ef>$(</span>docker ps -qa<span style=color:#66d9ef>)</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>docker rm <span style=color:#66d9ef>$(</span>docker ps -qa<span style=color:#66d9ef>)</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h2 id=method-2-using-alpine-as-base-image>Method 2# Using alpine as base image<a hidden class=anchor aria-hidden=true href=#method-2-using-alpine-as-base-image>#</a></h2><p>Let&rsquo;s create file called <code>Dockerfile.alpine</code> with following content</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> golang:1.7-alpine</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apk add --update --no-cache git <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  rm -rf /tmp/* /var/cache/apk/*<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Set the Current Working Directory inside the container</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /go/src/app</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Copy everything from the current directory to the PWD(Present Working Directory) inside the container</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> . .<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Download all the dependencies</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go get -d -v ./...<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Install the package</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go install -v ./...<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># This container exposes port 8080 to the outside world</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 8080</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Run the executable</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;/app&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Now in your current directory you have two files:</p><ul><li><code>web_app.go</code></li><li><code>Dockerfile</code></li><li><code>Dockerfile.alpine</code></li></ul><p>Let&rsquo;s build our demo app</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker build -t demo:v1.0.0-alpine -f Dockerfile.alpine .<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Run app in deattach mode</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker run -p 8080:8080  -dt demo:v1.0.0-alpine<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>You can check logs:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker logs -f &lt;container-id&gt;<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Now access from browser <a href=http://localhost:8080/>http://localhost:8080/</a></p><p>You should be able to see &ldquo;Hello World!&rdquo; response from above link</p><p>Let&rsquo;s check docker image size that you just created</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker images | grep demo | grep v1.0.0<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Output:</p><pre><code>demo   v1.0.0-alpine   c357bed946dd  1 minutes ago       263MB
</code></pre><p>From &ldquo;767MB&rdquo; to &ldquo;263MB&rdquo; that a lot improvement</p><p>But wait there is more!</p><p>You can even reduce more using &ldquo;distroless&rdquo; images build by google</p><h2 id=method-3-using-distroless-as-base-image>Method 3# Using distroless as base image<a hidden class=anchor aria-hidden=true href=#method-3-using-distroless-as-base-image>#</a></h2><p>You can learn more about distroless from <a href=https://github.com/GoogleContainerTools/distroless>this</a> page</p><p>Let&rsquo;s create file <code>Dockerfile.destroless</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> golang:1.10 as build-env</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /go/src/app</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ADD</span> . /go/src/app<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go get -d -v ./...<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go build -o /go/bin/app<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> gcr.io/distroless/base</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> --from<span style=color:#f92672>=</span>build-env /go/bin/app /<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;/app&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Yes, you see some strange thing here, two <code>FROM</code> statement, yes, that&rsquo;s actually two stages, you can go even multi stage using multiple images and copy only require stuff from each stage you want.</p><p>In above docker file we have two stages</p><ul><li>Build stage <code>FROM golang:1.10 as build-env</code><ul><li>You can install require tools to build your code and that build dev packages are useless after build</li><li>Golang advantages here: Go links its dependencies statically by default. This has the benefit of having one simple and portable deliverable — the binary itself</li><li>TIP: Read about static libs vs shared libs for interview</li></ul></li><li>Runtime stage <code>FROM [gcr.io/distroless/base](http://gcr.io/distroless/base)</code><ul><li>Copy static binary from build stage</li><li>Run binary</li></ul></li></ul><p>Let&rsquo;s build it</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>docker build -t demo:v1.0.0-destroless  -f Dockerfile.destroless .<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Whats size?</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker>demo   v1.0.0-destroless   d4681a0aa1c9        <span style=color:#ae81ff>1</span> minutes ago         23.5MB<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>WOW 23.5MB !!</p><p>TIP: Show this demo in your company .</p><p>Now run app and see if its working or not.</p><h3 id=reference>Reference:<a hidden class=anchor aria-hidden=true href=#reference>#</a></h3><ul><li><a href=https://docs.docker.com/>https://docs.docker.com/</a></li><li><a href=https://dev.to/>https://dev.to/</a></li><li><a href=https://luminousmen.com/>https://luminousmen.com/</a></li></ul></div><footer class=post-footer><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Docker basics on twitter" href="https://twitter.com/intent/tweet/?text=Docker%20basics&url=https%3a%2f%2flearn-k8s.github.io%2fposts%2fdocker-basics%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker basics on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2flearn-k8s.github.io%2fposts%2fdocker-basics%2f&title=Docker%20basics&summary=Docker%20basics&source=https%3a%2f%2flearn-k8s.github.io%2fposts%2fdocker-basics%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker basics on reddit" href="https://reddit.com/submit?url=https%3a%2f%2flearn-k8s.github.io%2fposts%2fdocker-basics%2f&title=Docker%20basics"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker basics on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2flearn-k8s.github.io%2fposts%2fdocker-basics%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker basics on whatsapp" href="https://api.whatsapp.com/send?text=Docker%20basics%20-%20https%3a%2f%2flearn-k8s.github.io%2fposts%2fdocker-basics%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker basics on telegram" href="https://telegram.me/share/url?text=Docker%20basics&url=https%3a%2f%2flearn-k8s.github.io%2fposts%2fdocker-basics%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><script src=https://utteranc.es/client.js repo=learn-k8s/learn-k8s.github.io issue-term=pathname theme=github-dark crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2020 <a href=https://learn-k8s.github.io/>Learn-k8s</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top" accesskey=g><button class=top-link id=top-link type=button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button></a>
<script src=https://learn-k8s.github.io/assets/js/highlight.min.e7afc2928c0925d65c4732dfebe147014d91299a98e819e4b42f25c4fa68e91c.js integrity="sha256-56/CkowJJdZcRzLf6+FHAU2RKZqY6BnktC8lxPpo6Rw="></script><script>hljs.initHighlightingOnLoad();</script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);document.querySelector(`[id='${id}']`).scrollIntoView({behavior:"smooth"});});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>localStorage.removeItem("pref-theme");</script></body></html>